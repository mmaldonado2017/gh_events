# yaml-language-server: $schema=https://json.schemastore.org/github-workflow.json
name: Deploy website
on:
  push:
    branches:
      - main
  workflow_dispatch:
jobs:
  example_job:
    name: Generate output
    runs-on: ubuntu-latest
    # outputs:
    #   output1: ${{ steps.step1.outputs.firstword }}
    #   output2: ${{ steps.step2.outputs.secondword }}
    steps:
      - name: Print github
        run: echo $GITHUB_OUTPUT
      - id: step1
        run: echo "firstword=hello" >> $GITHUB_OUTPUT
      - id: step2
        run: echo "secondword=world" >> $GITHUB_OUTPUT
      - name: Print variables within same job
        run: |
          echo "First word: ${{ steps.step1.outputs.firstword }}"
          echo "Second word: ${{ steps.step2.outputs.secondword }}"
  
  # use_outputs:
  #   name: Use outputs from another job
  #   needs: example_job
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Print variables from previous job
  #       run: |
  #         echo "Output1: ${{ needs.example_job.outputs.output1 }}"
  #         echo "Output2: ${{ needs.example_job.outputs.output2 }}"
  # test:
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Get code
  #       uses: actions/checkout@v6
  #     - name: Install dependencies
  #       run: npm ci
  #     - name: Lint code
  #       run: npm run lint
  #     - name: Test code
  #       run: npm run test
  # build:
  #   needs: test
  #   runs-on: ubuntu-latest
  #   outputs:
  #     script-file: ${{ steps.publish-js-filename.outputs.script-file }}
  #   steps:
  #     - name: Get code
  #       uses: actions/checkout@v6
  #     - name: Install dependencies
  #       run: npm ci
  #     - name: Build website
  #       run: npm run build
  #     - name: Publish JS filename
  #       id: publish-js-filename
  #       run: find dist/assets/*.js -type -f -execdir echo 'script-file={}' >> $GITHUB_OUTPUT ';'          
  #     - name: Print directory structure
  #       run: |
  #         echo "=== GitHub Actions Directories ==="
  #         echo "GITHUB_WORKSPACE contents:"
  #         ls -la $GITHUB_WORKSPACE
  #         echo "All GitHub env vars:"
  #         env | grep GITHUB_ | sort
  #     - name: Upload build artifacts
  #       uses: actions/upload-artifact@v4
  #       with:
  #         name: dist-files
  #         path: dist
  # deploy:
  #   needs: build
  #   runs-on: ubuntu-latest
  #   steps:
  #     - uses: actions/download-artifact@v5
  #       with:
  #         name: dist-files
  #     - name: List downloaded files
  #       run: ls -R
  #     - name: Deploy
  #       run: echo "Deploying..."
